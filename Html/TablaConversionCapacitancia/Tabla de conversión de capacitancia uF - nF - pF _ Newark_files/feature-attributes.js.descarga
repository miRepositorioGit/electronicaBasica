//>>built
define("sudo/modules/feature-attributes",["dojo/_base/array","dojo/query","sudo/modules/target/meta-to-json"],function(e,t,i){return function(a){function r(t,a,r,o){var s,l={},d=r||window.ttMETA;d&&(s=i(d),l=s[284839]||{});var u=o||mk.tagging.persistent,c=n(u,a,l);return"true"===t&&c.length>0&&e.forEach(c,function(e){var t=e.params.isInternalOnly&&!mk.helper.isInternalSite();e.params.dependency&&!1===o&&!t&&require([e.params.dependency],function(t){"function"==typeof t&&t.call(this,e.params)})}),c}function n(e,t,i){if(void 0==i||void 0===i.RecipeId||"1"===i.RecipeId){var a=e[t]||[],r=e.all||[];return a.concat(r)}return[]}var o=a,s={},l={init:r};return o&&e.forEach(o,function(e){var i={},a=t(e),r=a.attr("name")[0];if(a.query("input").forEach(function(e){var a=t(e),r=a.attr("name")[0];i[r]=a.attr("value")[0]}),a.attr("data-persistent")[0]&&"true"===a.attr("data-persistent")[0]){i.isInternalOnly=a.attr("data-internalOnly")[0]&&"true"===a.attr("data-internalOnly")[0];var n=i.pageType||"all";a.query("input").forEach(function(e){var t=e.getAttribute("data-sudo-args");t&&(i.args=t.split(";"))}),i.dependency&&(l.hasOwnProperty(n)||(l[n]=[]),l[n].push({name:r,params:i}))}else s[r]=i}),{persistent:l,vendors:s}}});//# sourceMappingURL=feature-attributes.js.map