//>>built
define("sudo/main",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Deferred","dojo/query","dojo/request/xhr","dojo/dom-construct","sudo/modules/Tagging","sudo/modules/target/helper","sudo/modules/feature-attributes"],function(e,t,i,a,r,n,o,s,l,d){return e("mk",function(){var e=function(e){var t="untagged";return"Product Detail:Product View"===e?t="pdp":"Homepage:Home Page"===e?t="home":"Search:Category Node"===e?t="category":/^Search:/.test(e)?t="search":"Shopping Cart:Shopping Cart"===e?t="basket":"Checkout:Order Confirmation"===e?t="orderConf":/^CMS Content:Template/.test(e)?t="cms":/^Storefronts:/.test(e)?t="storefront":"Account:Registration"===e?t="registration":"Account:Login"===e&&(t="login"),t},a=function(e){var t=e.replace(/(www\.?-?)|(\.?-?ps(stg|prd|tg)(eu|us|ap))|(\.?(farnell|element14|newark).com)/g,"");return""==t?"us":t}(window.location.host);this.cookieCompliance=function(e,t){function i(e){var t=mk.helper.cookieHelper.setCookieByName;return function(i){r("#mktg_Cookie_Wrap").remove(),r("body").prepend(i).query("#mktg_Cookie_button","mktg_Cookie_Wrap").on("click",function(){t(e,"true",365),dojo.byId("mktg_Cookie_Wrap").style.display="none","undefined"!=typeof ga&&ga("globalTracker.send","event","click","cookie-policy",e)})}}if(!mk.helper.cookieHelper.getCookieByName(e)&&t){var a=i(e);n(t,{handleAs:"text",timeout:5e3,preventCache:!1}).then(a,function(e){})}},this.requireOnCondition=function(e){function t(e,t){e=e||[],e?require(e,t):t()}function r(e){if(e){var t,i=[];for(t in e)"true"===e[t].active&&i.push(t);return i}return[]}function n(e){return function(t){var a;return!(e instanceof Array&&e&&t)||(a=i.filter(e,function(e){return e===t}),a.length)}}var o="pdp"==mk.pageType&&mk.tagging.pageData.skus?mk.tagging.pageData.skus[0].id:"",s=n(e.store),l=n(r(mk.tagging.vendors)),d=n(e.page),u=n(e.includeLocales),c=n(e.skus),h=i.filter(e.excludeLocales,function(e){return a==e}).length;return s(mk.tagging.store)&&l(e.vendor)&&d(mk.pageType)&&u(a)&&c(o)&&!h&&(e.targetID&&e.callback?t(e.deps,function(){mk.helper.target.init(e.targetID,e.callback,!0)}):t(e.deps,e.callback)),null},this.tagging={},this.feature={};var o,u;window.location.host.indexOf("cpc.")>-1?(o="cpc",u="europe"):window.location.host.indexOf("onecall.")>-1?(o="onecall",u=""):window.location.host.indexOf("farnell.")>-1?(o="farnell",u="europe"):window.location.host.indexOf("element14.")>-1?(o="element14",u="apac"):(o="newark",u="americas"),this.tagging.region=u||"",this.tagging.store=o,this.tagging.country=a,this.tagging.locale=dojo.locale||null;var c=d(r("fieldset","sudoFragments"));return this.tagging.vendors=c.vendors,this.tagging.persistent=c.persistent,this.tagging.isMobile=JSON.parse(this.tagging.vendors.sudo.mobile),this.helper=this.helper||{},this.helper.getInnerText=function(e){if(e){var i=e.innerText||e.innerHTML;if(i)return t.trim(i)}return""},this.helper.createIframe=function(e){var t=document.createElement("iframe");t.src=e,t.width=1,t.height=1,t.style.display="none",t.style.frameborder=0,document.body.appendChild(t)},this.helper.browserDetect=function(){var e,t=function(t){for(var i=0;i<t.length;i++){var a=t[i].string,r=t[i].prop;if(e=t[i].versionSearch||t[i].identity,a){if(-1!=a.indexOf(t[i].subString))return t[i].identity}else if(r)return t[i].identity}},i=function(t){var i=t.indexOf(e);if(-1!=i)return Math.floor(parseFloat(t.substring(i+e.length+1)))};return{browser:t([{string:navigator.userAgent,subString:"Edge",identity:"Explorer",versionSearch:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"}]),version:i(navigator.userAgent)||i(navigator.appVersion)||"an unknown version"}}(),this.helper.safeExec=function(e){try{e()}catch(e){var t=mk.helper.browserDetect,i=function(e){var t=e||"Unknown",i=t.split("\n")[1]||t;return function(e){return dojo.isIE&&dojo.isIE<=9?"":e(i)}}(e.stack||e.fileName),a=i(function(e){return e.replace(/.*sudo\/(.*\.js)\?.*/g,"$1")||"Unknown file"}),r=i(function(e){return e.replace(/.*([0-9]+):([0-9])+\)?$/,"$1:$2")||"Unknown line"}),n="["+t.browser+":"+t.version+"]",o=" ["+(mk.pageType||mk.pageName)+"] "+e.message,s=a+" "+r,l=e.name||"Unknown Error",d=n+o+": "+s;"undefined"!=typeof ga&&ga("globalTracker.send","event","error",l,d)}},this.helper.cookieHelper={mk_cookie_name:"MKVISTOR",getCookie:function(){return pf.cookie.get(this.mk_cookie_name)},getCookieByName:function(e){return pf.cookie.get(e)},setCookieByName:function(e,t,i){pf.cookie.set(e,t,i)},setCookie:function(e,t){pf.cookie.set(this.mk_cookie_name,e,t)}},this.helper.isInternalDomain=function(e){return!/(farnell\.com)|(newark\.com)|(element14\.com)/.test(e)},this.helper.isInternalSite=function(){return window.location.host.indexOf("-")>-1||window.location.host.split(".").length>3},this.helper.target=l,this.pageName=pf.tagging.data.omniture.pageName||null,this.pageType=e(this.pageName),this.init=function(e,t){var i=window.location.search.indexOf("pfoverride")>-1;this.tagging.locale&&mk.pageName&&!i&&(void 0!=t.isIE&&t.isIE<9?mk.requireOnCondition({vendor:"cookiepolicy",callback:function(){var e=mk.tagging.vendors.cookiepolicy.cookieName,t=mk.tagging.vendors.cookiepolicy.location;this.cookieCompliance(e,t)}}):(new s(mk.pageType,{affiliatePageLabels:{home:"ViewContent",search:"ViewContent",basket:"ViewContent",orderConf:"Purchase",pdp:"ViewContent",cms:"ViewContent"}}),mk.tagging.isMobile?require(["sudo/m-routing"]):require(["sudo/routing"])))},this})});//# sourceMappingURL=main.js.map